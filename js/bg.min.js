var scene,sceneLight,portalLight,cam,renderer,clock,portalParticles=[];function initScene(){scene=new THREE.Scene,(sceneLight=new THREE.DirectionalLight(16777215,.5)).position.set(0,0,1),scene.add(sceneLight),(portalLight=new THREE.PointLight(65280,30,350,1.7)).position.set(0,0,250),scene.add(portalLight),(cam=new THREE.PerspectiveCamera(80,window.innerWidth/window.innerHeight,1,1e3)).position.z=1e3,scene.add(cam),(renderer=new THREE.WebGLRenderer({alpha:!0})).setClearColor(0,0),renderer.setSize(window.innerWidth,window.innerHeight),document.getElementById("webgl").appendChild(renderer.domElement),setupParticle()}function setupParticle(){let e=new THREE.TextureLoader;var s=["resources/img/smoke2.png","resources/img/smoke2.png","resources/img/smoke2.png","resources/img/smoke2.png","resources/img/smoke2.png","resources/img/smoke2.png","resources/img/smoke2.png","resources/img/smoke2.png","resources/img/smoke2.png","resources/img/smoke2.png","resources/img/smoke2.png","resources/img/smoke2.png","resources/img/smoke2.png","resources/img/smoke2.png","resources/img/smoke2.png","resources/img/smoke2.png","resources/img/smoke2.png","resources/img/smoke2.png","resources/img/smoke2.png","resources/img/smoke2.png","resources/img/smoke2.png","resources/img/smoke2.png","resources/img/smoke2.png","resources/img/smoke2.png","resources/img/smoke2.png","resources/img/smoke2.png","resources/img/smoke2.png","resources/img/smoke2.png","resources/img/smoke2.png","resources/img/smoke2.png","resources/img/smoke2.png","resources/img/smoke2.png","resources/img/smoke2.png","resources/img/smoke2.png","resources/img/smoke2.png","resources/img/smoke2.png","resources/img/smoke2.png","resources/img/smoke2.png","resources/img/smoke2.png","resources/img/smoke2.png","resources/img/smoke2.png","resources/img/smoke2.png","resources/img/smoke2.png","resources/img/smoke2.png","resources/img/smoke2.png","resources/img/smoke2.png","resources/img/smoke2.png","resources/img/smoke2.png","resources/img/smoke2.png","resources/img/smoke2.png","resources/img/smoke2.png","resources/img/smoke2.png","resources/img/smoke2.png","resources/img/smoke2.png","resources/img/smoke2.png","resources/img/smoke2.png","resources/img/smoke2.png","resources/img/smoke2.png","resources/img/smoke2.png","resources/img/smoke2.png","resources/img/smoke2.png","resources/img/smoke2.png","resources/img/smoke2.png","resources/img/smoke2.png","resources/img/smoke2.png","resources/img/smoke2.png","resources/img/smoke2.png","resources/img/smoke2.png","resources/img/smoke2.png","resources/img/smoke2.png","resources/img/smoke2.png","resources/img/smoke2.png","resources/img/smoke2.png","resources/img/smoke2.png","resources/img/smoke2.png","resources/img/smoke2.png","resources/img/smoke2.png","resources/img/smoke2.png","resources/img/smoke2.png","resources/img/smoke2.png","resources/img/smoke2.png","resources/img/smoke2.png","resources/img/smoke2.png","resources/img/smoke2.png","resources/img/smoke2.png","resources/img/smoke2.png","resources/img/smoke2.png","resources/img/smoke2.png","resources/img/smoke2.png","resources/img/smoke2.png","resources/img/smoke2.png","resources/img/smoke2.png","resources/img/smoke2.png","resources/img/smoke2.png","resources/img/smoke4.png"],r=s[Math.floor(Math.random()*s.length)];e.load(r,function(e){portalGeo=new THREE.PlaneBufferGeometry(350,350),portalMaterial=new THREE.MeshStandardMaterial({map:e,transparent:!0});for(let e=880;e>250;e--){let s=new THREE.Mesh(portalGeo,portalMaterial);s.position.set(.5*e*Math.cos(4*e*Math.PI/180),.5*e*Math.sin(4*e*Math.PI/180),.1*e),s.rotation.z=360*Math.random(),portalParticles.push(s),scene.add(s)}clock=new THREE.Clock,animate()})}function animate(){let e=clock.getDelta();portalParticles.forEach(s=>{s.rotation.z-=1.5*e}),renderer.render(scene,cam),requestAnimationFrame(animate)}initScene();